<!-- <ng-container *ngIf="(deviceService.deviceAppStatus$ | async) !== deviceAppState.STARTED; else communicating"> -->
<ng-container *ngIf="isVisible">
  <ng-container *ngIf="isReady; else communicating">
    <mat-stepper linear #stepper>
      <mat-step [editable]="false" label="Choose a WiFi network" [completed]="false">
        <app-wifi-credentials></app-wifi-credentials>
      </mat-step>
      <mat-step [editable]="false" label="Provision device" [completed]="false">
          <button color="primary" (click)="createProvisioningClaim()">Create provisioning claim</button>
      </mat-step>
      <mat-step [editable]="false" label="Register device" [completed]="false">
        <p>Your device is contacting the server to register itself. Please wait.</p>
      </mat-step>
      <mat-step [editable]="false" label="Done" [completed]="false">
        <p>Your device has successfully been registered.</p>
      </mat-step>
    </mat-stepper>
  </ng-container>
  <ng-template #communicating>
    <h3 class="wait-message">Communicating; please wait... <mat-spinner diameter="20"></mat-spinner></h3>
  </ng-template>
</ng-container>


